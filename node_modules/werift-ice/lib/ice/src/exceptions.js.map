{"version":3,"file":"exceptions.js","sourceRoot":"","sources":["../../../src/exceptions.ts"],"names":[],"mappings":";;;AAGA,MAAa,gBAAiB,SAAQ,KAAK;IAA3C;;QACE;;;;;WAAmB;QACnB;;;;;WAAe;IACjB,CAAC;CAAA;AAHD,4CAGC;AAED,MAAa,iBAAkB,SAAQ,gBAAgB;IACrD,YACS,QAAiB,EACjB,IAAa;QAEpB,KAAK,EAAE,CAAC;QAHR;;;;mBAAO,QAAQ;WAAS;QACxB;;;;mBAAO,IAAI;WAAS;IAGtB,CAAC;IAED,IAAI,GAAG;QACL,IAAI,GAAG,GAAG,yBAAyB,CAAC;QACpC,MAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;QAChE,IAAI,SAAS,EAAE,CAAC;YACd,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,SAAS,CAAC;YAC9B,GAAG,IAAI,KAAK,IAAI,MAAM,GAAG,GAAG,CAAC;QAC/B,CAAC;QACD,OAAO,GAAG,CAAC;IACb,CAAC;CACF;AAjBD,8CAiBC;AAED,MAAa,kBAAmB,SAAQ,gBAAgB;IACtD,IAAI,GAAG;QACL,OAAO,4BAA4B,CAAC;IACtC,CAAC;CACF;AAJD,gDAIC","sourcesContent":["import type { Message } from \"./stun/message\";\nimport type { Address } from \"./types/model\";\n\nexport class TransactionError extends Error {\n  response?: Message;\n  addr?: Address;\n}\n\nexport class TransactionFailed extends TransactionError {\n  constructor(\n    public response: Message,\n    public addr: Address,\n  ) {\n    super();\n  }\n\n  get str() {\n    let out = \"STUN transaction failed\";\n    const attribute = this.response.getAttributeValue(\"ERROR-CODE\");\n    if (attribute) {\n      const [code, msg] = attribute;\n      out += ` (${code} - ${msg})`;\n    }\n    return out;\n  }\n}\n\nexport class TransactionTimeout extends TransactionError {\n  get str() {\n    return \"STUN transaction timed out\";\n  }\n}\n"]}